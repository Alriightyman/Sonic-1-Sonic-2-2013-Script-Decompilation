//--------------------Sonic 1 / Sonic 2 Y Bound Adjust Script--------------------//
//--------Scripted by Christian Whitehead 'The Taxman' & Simon Thomley 'Stealth'--------//
//-----------------Unpacked By Rubberduckycooly's Script Unpacker-----------------------//

//-------Aliases-------//
#alias 34: TYPE_YBOUNDADJUST




sub ObjectMain
	if Object.PropertyValue==0
		TempValue0=Object[0].XPos
		TempValue0-=Object.XPos
		Absolute(TempValue0)
		if TempValue0<0x200000
			Stage.NewYBoundary2=Object.iYPos
			stage.deathBoundary=Object.YPos
		endif
	else
		if Object[0].YPos<Object.YPos
			if Object[0].YPos>Object[+1].YPos
				TempValue0=Object[0].XPos
				TempValue0-=Object.XPos
				Absolute(TempValue0)
				if TempValue0<0x200000
					Stage.NewYBoundary2=Object.iYPos
					stage.deathBoundary=Object.YPos
				endif
			endif
		endif
	endif
endsub


sub ObjectStartup
	foreach TypeName[YBoundAdjust],ArrayPos0
		if Object[ArrayPos0].PropertyValue==0
			Object[ArrayPos0].Priority=PRIORITY_XBOUNDS
			TempValue0=Object[0].XPos
			TempValue0-=Object[ArrayPos0].XPos
			Absolute(TempValue0)
			if TempValue0<0x200000
				Stage.YBoundary2=Object[ArrayPos0].iYPos
				stage.deathBoundary=Object[ArrayPos0].YPos
			endif
		else
			Object[ArrayPos0].Priority=PRIORITY_XBOUNDS
			ArrayPos1=ArrayPos0
			ArrayPos1++
			if Object[0].YPos<Object[ArrayPos0].YPos
				if Object[0].YPos>Object[ArrayPos1].YPos
					TempValue0=Object[0].XPos
					TempValue0-=Object[ArrayPos0].XPos
					Absolute(TempValue0)
					if TempValue0<0x200000
						Stage.YBoundary2=Object[ArrayPos0].iYPos
						stage.deathBoundary=Object[ArrayPos0].YPos
					endif
				endif
			endif
		endif
	floop
endsub

sub RSDK
	LoadSpriteSheet("Global/Display.gif")
	SetEditorIcon(Icon0,SingleIcon,-16,-16,32,32,1,143)
endsub
