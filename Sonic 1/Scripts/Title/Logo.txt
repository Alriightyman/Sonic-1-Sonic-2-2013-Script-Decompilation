//--------------------Sonic 1 / Sonic 2 Logo Script--------------------//
//--------Scripted by Christian Whitehead 'The Taxman' & Simon Thomley 'Stealth'--------//
//-----------------Unpacked By Rubberduckycooly's Script Unpacker-----------------------//

//-------Aliases-------//
#alias 3: TYPE_LOGO

// Function declarations
#function Logo_Function1

#array Logo_array2:(0x6060A0,0x80A0E0,0xE08000,0xE0C080,0xA04000,0x600000,0xE02080,0xE00040,0x800000,0x806080,0xA08060,0xE0C0A0,0x80A0A0,0xA04020)
#array Logo_array0:(-50,-40,-53,-56,-58,-68,-60,-74,-62,-78,-63,-79,-64,-80)
#array Logo_array1:(5,-32,6,-31)

function Logo_Function1
	TempValue0=0
	if KeyPress.Up==1
		TempValue0=1
	endif
	if KeyPress.Down==1
		TempValue0=2
	endif
	if KeyPress.Left==1
		TempValue0=3
	endif
	if KeyPress.Right==1
		TempValue0=4
	endif
	if KeyPress.ButtonA==1
		TempValue0=5
	endif
	if KeyPress.ButtonB==1
		TempValue0=6
	endif
	if KeyPress.ButtonC==1
		TempValue0=7
	endif
	switch Object.Value14
	case 0
		if TempValue0==1
			Object.Value14++
		else
			if TempValue0!=0
				Object.Value14=0
			endif
		endif
		break
	case 1
		if TempValue0==2
			Object.Value14++
		else
			if TempValue0!=0
				Object.Value14=0
			endif
		endif
		break
	case 2
		if TempValue0==3
			Object.Value14++
		else
			if TempValue0!=0
				Object.Value14=0
			endif
		endif
		break
	case 3
		if TempValue0==4
			Object.Value14++
			Object.Value14=0
			options.stageSelectFlag=1
			PlaySfx(SFXName[RingL],0)
		else
			if TempValue0!=0
				Object.Value14=0
			endif
		endif
		break

	endswitch
	switch Object.Value15
	case 0
		if TempValue0==1
			Object.Value15++
		else
			if TempValue0!=0
				Object.Value15=0
			endif
		endif
		break
	case 1
		if TempValue0==7
			Object.Value15++
		else
			if TempValue0!=0
				Object.Value15=0
			endif
		endif
		break
	case 2
		if TempValue0==2
			Object.Value15++
		else
			if TempValue0!=0
				Object.Value15=0
			endif
		endif
		break
	case 3
		if TempValue0==7
			Object.Value15++
		else
			if TempValue0!=0
				Object.Value15=0
			endif
		endif
		break
	case 4
		if TempValue0==3
			Object.Value15++
		else
			if TempValue0!=0
				Object.Value15=0
			endif
		endif
		break
	case 5
		if TempValue0==7
			Object.Value15++
		else
			if TempValue0!=0
				Object.Value15=0
			endif
		endif
		break
	case 6
		if TempValue0==4
			Object.Value15++
		else
			if TempValue0!=0
				Object.Value15=0
			endif
		endif
		break
	case 7
		if TempValue0==7
			Object.Value15=0
			Stage.DebugMode=1
			PlaySfx(SFXName[RingL],0)
		else
			if TempValue0!=0
				Object.Value15=0
			endif
		endif
		break

	endswitch
	switch Object.Value16
	case 0
		if TempValue0==1
			Object.Value16++
		else
			if TempValue0!=0
				Object.Value16=0
			endif
		endif
		break
	case 1
	case 2
	case 3
	case 4
		if TempValue0==2
			Object.Value16++
		else
			if TempValue0!=0
				Object.Value16=0
			endif
		endif
		break
	case 5
		if TempValue0==1
			Object.Value16++
			Object.Value16=0
			options.region^=1
			PlaySfx(SFXName[RingL],0)
		else
			if TempValue0!=0
				Object.Value16=0
			endif
		endif
		break

	endswitch
endfunction


sub ObjectMain
	if stage.player2Enabled==1
		Stage.PlayerListPos=3
	endif
	if Object.Value10==0
		Object.Value3++
		if Object.Value3==6
			Object.Value3=0
			RotatePalette(0,192,195,1)
		endif
	endif
	if options.gameMode==0
		if Object.State>3
			CallFunction(Logo_Function1)
		endif
	endif
endsub


sub ObjectDraw
	TempValue0=1
	switch Stage.PlayerListPos
	case 1
		if Object.State==6
			TempValue0=0
		endif
		break
	case 2
		if Object.State==8
			TempValue0=0
		endif
		break
	case 3
		if Object.State==6
			TempValue0=0
		endif
		break

	endswitch
	if TempValue0!=0
		DrawSpriteScreenXY(9,Screen.CenterX,Object.YPos)
	endif
	switch Stage.PlayerListPos
	case 0
	case 3
		switch Object.State
		case 0
			Screen.XOffset=0
			Object.Priority=PRIORITY_ACTIVE
			Object.Value0=256
			Stage[0].ActiveLayer=1
			Object.State++
			SetScreenFade(0,0,0,255)
			break
		case 1
			Screen.XOffset+=2
			if Object.Value0>0
				Object.Value0-=8
			else
				PlayMusic(0)
				Object.State++
			endif
			SetScreenFade(0,0,0,Object.Value0)
			break
		case 2
			Screen.XOffset+=2
			Object.Value0++
			if Object.Value0==38
				Object.Value0=0
				Object.Value2=186
				Object.Frame=0
				Object.State++
			endif
			break
		case 3
			Screen.XOffset+=2
			Object.Value2-=8
			if Object.Value2<144
				Object.Frame=1
			endif
			if Object.Value2<=112
				Object.Value2=112
				Object.State++
			endif
			DrawSpriteScreenXY(Object.Frame,Screen.CenterX,Object.Value2)
			break
		case 4
			Screen.XOffset+=2
			Object.Value0++
			if Object.Value0==8
				Object.Frame++
				if Object.Frame>=7
					Object.Frame=7
					Object[+1].Type=TypeName[StartMessage]
					Object[+1].Priority=PRIORITY_ACTIVE
					Object[+1].XPos=Screen.CenterX
					if Stage.PlayerListPos==3
						Object[+1].YPos=216
						Object.State=6
					else
						Object[+1].YPos=192
						Object.State++
					endif
				endif
				Object.Value0=0
			endif
			DrawSpriteScreenXY(Object.Frame,Screen.CenterX,Object.Value2)
			break
		case 5
			Screen.XOffset+=2
			Object.Value0++
			if Object.Value0==8
				Object.Frame++
				if Object.Frame>8
					Object.Frame=7
				endif
				Object.Value0=0
			endif
			DrawSpriteScreenXY(9,Screen.CenterX,Object.YPos)
			DrawSpriteScreenXY(Object.Frame,Screen.CenterX,Object.Value2)
			break
		case 6
			Screen.XOffset+=2
			Object.YPos-=2
			Object.Value2-=2
			if Object.YPos<=-24
				Object.Value8=Screen.XSize
				Object.Value8+=108
				Object.State++
				Object.Value1=Screen.CenterX
			endif
			DrawSpriteScreenXY(9,Screen.CenterX,Object.YPos)
			DrawSpriteScreenXY(Object.Frame,Screen.CenterX,Object.Value2)
			break
		case 7
			Screen.XOffset+=2
			Object.Value0++
			Object.Value1++
			Object.Value8-=8
			TempValue0=Screen.CenterX
			TempValue0+=12
			if Object.Value8<=TempValue0
				Object.Value8=TempValue0
				Object.Value13=12
				Object.State++
			endif
			DrawSpriteScreenXY(Object.Frame,Object.Value1,Object.Value2)
			if options.region==1
				DrawSpriteScreenXY(33,Object.Value8,228)
			else
				DrawSpriteScreenXY(31,Object.Value8,228)
			endif
			DrawSpriteScreenXY(36,Object.Value8,228)
			break
		case 8
			Screen.XOffset+=2
			TempValue0=Object.Value4
			GetArrayValue(Object.Value11,TempValue0,Logo_array0)
			Object.Value11+=Screen.CenterX
			Object.Value11-=24
			TempValue0++
			GetArrayValue(Object.Value12,TempValue0,Logo_array0)
			Object.Value12+=Screen.CenterY
			Object.Value12-=24
			Object.Value0++
			Object.Value0&=3
			if Object.Value0==0
				Object.Value4+=2
				if Object.Value4==14
					Object.State++
				endif
			endif
			DrawSpriteScreenXY(Object.Frame,Object.Value1,Object.Value2)
			DrawSpriteScreenXY(Object.Value13,Object.Value11,Object.Value12)
			if options.region==1
				DrawSpriteScreenXY(33,Object.Value8,228)
			else
				DrawSpriteScreenXY(31,Object.Value8,228)
			endif
			DrawSpriteScreenXY(36,Object.Value8,228)
			break
		case 9
			Screen.XOffset+=2
			Object.Value0++
			if Object.Value0==2
				Object.Value13++
				if Object.Value13>=16
					Object.Value13=16
					Object.Value6=8
					Object.Value6+=Screen.CenterX
					Object.Value7=-27
					Object.Value7+=Screen.CenterY
					Object.Value4=0
					Object.State++
				endif
				Object.Value0=0
			endif
			DrawSpriteScreenXY(Object.Value13,Object.Value11,Object.Value12)
			if Object.Value13==16
				DrawSpriteScreenXY(17,Object.Value6,Object.Value7)
			endif
			DrawSpriteScreenXY(Object.Frame,Object.Value1,Object.Value2)
			if options.region==1
				DrawSpriteScreenXY(33,Object.Value8,228)
			else
				DrawSpriteScreenXY(31,Object.Value8,228)
			endif
			DrawSpriteScreenXY(36,Object.Value8,228)
			break
		case 10
			Screen.XOffset+=2
			TempValue0=Object.Value4
			GetArrayValue(Object.Value6,TempValue0,Logo_array1)
			Object.Value6+=Screen.CenterX
			Object.Value6-=24
			TempValue0++
			GetArrayValue(Object.Value7,TempValue0,Logo_array1)
			Object.Value7+=Screen.CenterY
			Object.Value7-=24
			Object.Value0++
			Object.Value0&=3
			if Object.Value0==0
				Object.Value4+=2
				if Object.Value4==4
					Object.State++
				endif
			endif
			DrawSpriteScreenXY(Object.Value13,Object.Value11,Object.Value12)
			DrawSpriteScreenXY(17,Object.Value6,Object.Value7)
			DrawSpriteScreenXY(Object.Frame,Object.Value1,Object.Value2)
			if options.region==1
				DrawSpriteScreenXY(33,Object.Value8,228)
			else
				DrawSpriteScreenXY(31,Object.Value8,228)
			endif
			DrawSpriteScreenXY(36,Object.Value8,228)
			break
		case 11
			Screen.XOffset+=2
			Object.Value0++
			if Object.Value0==8
				Object.Frame++
				if Object.Frame>8
					Object.Frame=7
				endif
				Object.Value0=0
			endif
			DrawSpriteScreenXY(Object.Value13,Object.Value11,Object.Value12)
			DrawSpriteScreenXY(17,Object.Value6,Object.Value7)
			DrawSpriteScreenXY(Object.Frame,Object.Value1,Object.Value2)
			if options.region==1
				DrawSpriteScreenXY(33,Object.Value8,228)
			else
				DrawSpriteScreenXY(31,Object.Value8,228)
			endif
			DrawSpriteScreenXY(36,Object.Value8,228)
			break

		endswitch
		break
	case 1
		switch Object.State
		case 0
			Screen.XOffset=0
			Object.Priority=PRIORITY_ACTIVE
			Object.Value0=256
			Stage[0].ActiveLayer=1
			Object.State++
			SetScreenFade(0,0,0,255)
			break
		case 1
			Screen.XOffset+=2
			if Object.Value0>0
				Object.Value0-=8
			else
				PlayMusic(0)
				Object.State++
			endif
			SetScreenFade(0,0,0,Object.Value0)
			break
		case 2
			Screen.XOffset+=2
			Object.Value0++
			if Object.Value0==38
				Object.Value0=0
				Object.Frame=12
				Object.State++
			endif
			break
		case 3
			Screen.XOffset+=2
			TempValue0=Object.Value4
			GetArrayValue(Object.Value1,TempValue0,Logo_array0)
			Object.Value1+=Screen.CenterX
			TempValue0++
			GetArrayValue(Object.Value2,TempValue0,Logo_array0)
			Object.Value2+=Screen.CenterY
			Object.Value0++
			Object.Value0&=3
			if Object.Value0==0
				Object.Value4+=2
				if Object.Value4==14
					Object.State++
				endif
			endif
			DrawSpriteScreenXY(Object.Frame,Object.Value1,Object.Value2)
			break
		case 4
			Screen.XOffset+=2
			Object.Value0++
			if Object.Value0==2
				Object.Frame++
				if Object.Frame>=16
					Object.Frame=16
					Object[+1].Type=TypeName[StartMessage]
					Object[+1].Priority=PRIORITY_ACTIVE
					Object[+1].XPos=Screen.CenterX
					Object[+1].YPos=216
					Object.Value6=8
					Object.Value6+=Screen.CenterX
					Object.Value7=-27
					Object.Value7+=Screen.CenterY
					Object.Value4=0
					Object.State++
				endif
				Object.Value0=0
			endif
			if Object.Frame==16
				DrawSpriteScreenXY(17,Object.Value6,Object.Value7)
			endif
			DrawSpriteScreenXY(Object.Frame,Object.Value1,Object.Value2)
			break
		case 5
			Screen.XOffset+=2
			TempValue0=Object.Value4
			GetArrayValue(Object.Value6,TempValue0,Logo_array1)
			Object.Value6+=Screen.CenterX
			TempValue0++
			GetArrayValue(Object.Value7,TempValue0,Logo_array1)
			Object.Value7+=Screen.CenterY
			Object.Value0++
			Object.Value0&=3
			if Object.Value0==0
				Object.Value4+=2
				if Object.Value4==4
					Object.State++
				endif
			endif
			DrawSpriteScreenXY(17,Object.Value6,Object.Value7)
			DrawSpriteScreenXY(Object.Frame,Object.Value1,Object.Value2)
			break
		case 6
			Screen.XOffset+=2
			Object.YPos++
			Object.Value2++
			Object.Value7++
			if Object.YPos>=24
				Object.State++
			endif
			DrawSpriteScreenXY(9,Screen.CenterX,Object.YPos)
			DrawSpriteScreenXY(17,Object.Value6,Object.Value7)
			DrawSpriteScreenXY(Object.Frame,Object.Value1,Object.Value2)
			break
		case 7
			Screen.XOffset+=2
			if Object.Value8>=89
				if Object.Value9==0
					Object.Value0++
					if Object.Value0==3
						Object.Value8=89
						Object.State++
					endif
					Object.Value9=1
				endif
				Object.YVelocity-=0x4000
				if Object.YVelocity>0
					Object.YVelocity-=0x8000
				endif
			else
				Object.Value9=0
				Object.YVelocity+=0x6000
				if Object.YVelocity<0
					Object.YVelocity+=0x8000
				endif
			endif
			Object.Value9+=Object.YVelocity
			TempValue0=Object.Value9
			TempValue0>>=16
			Object.Value8+=TempValue0
			Object.Value9&=0xFFFF
			DrawSpriteScreenXY(17,Object.Value6,Object.Value7)
			DrawSpriteScreenXY(Object.Frame,Object.Value1,Object.Value2)
			if options.region==1
				DrawSpriteScreenXY(33,Screen.CenterX,Object.Value8)
				DrawSpriteScreenXY(34,Screen.CenterX,Object.Value8)
			else
				DrawSpriteScreenXY(31,Screen.CenterX,Object.Value8)
				DrawSpriteScreenXY(32,Screen.CenterX,Object.Value8)
			endif
			DrawSpriteScreenXY(35,Screen.CenterX,Object.Value8)
			break
		case 8
			Screen.XOffset+=2
			DrawSpriteScreenXY(17,Object.Value6,Object.Value7)
			DrawSpriteScreenXY(Object.Frame,Object.Value1,Object.Value2)
			if options.region==1
				DrawSpriteScreenXY(33,Screen.CenterX,Object.Value8)
				DrawSpriteScreenXY(34,Screen.CenterX,Object.Value8)
			else
				DrawSpriteScreenXY(31,Screen.CenterX,Object.Value8)
				DrawSpriteScreenXY(32,Screen.CenterX,Object.Value8)
			endif
			DrawSpriteScreenXY(35,Screen.CenterX,Object.Value8)
			break

		endswitch
		break
	case 2
		switch Object.State
		case 0
			Screen.XOffset=0
			Object.Priority=PRIORITY_ACTIVE
			Object.Value0=256
			Stage[0].ActiveLayer=1
			Object.State++
			SetScreenFade(0,0,0,255)
			break
		case 1
			Screen.XOffset+=2
			if Object.Value0>0
				Object.Value0-=8
			else
				PlayMusic(0)
				Object.State++
			endif
			SetScreenFade(0,0,0,Object.Value0)
			break
		case 2
			Screen.XOffset+=2
			Object.Value0++
			if Object.Value0==38
				Object.Value0=0
				Object.Value1=-44
				Object.Value1+=Screen.CenterX
				Object.Value2=-22
				Object.Value2+=Screen.CenterY
				Object.Frame=18
				Object.State++
			endif
			break
		case 3
			Screen.XOffset+=2
			Object.Value2-=8
			TempValue0=Screen.CenterY
			TempValue0-=94
			if Object.Value2<=TempValue0
				Object.State++
			endif
			TempValue0+=32
			if Object.Value2==TempValue0
				Object.Frame++
				Object.Value5=24
				Object.Value6=-44
				Object.Value6+=Screen.CenterX
				Object.Value7=-46
				Object.Value7+=Screen.CenterY
			endif
			DrawSpriteScreenXY(Object.Frame,Object.Value1,Object.Value2)
			break
		case 4
			Screen.XOffset+=2
			Object.Value0++
			if Object.Value0==8
				Object.Frame++
				if Object.Frame>=23
					Object.Frame=23
					Object[+1].Type=TypeName[StartMessage]
					Object[+1].Priority=PRIORITY_ACTIVE
					Object[+1].XPos=Screen.CenterX
					Object[+1].YPos=216
					Object.State++
				endif
				Object.Value0=0
			endif
			DrawSpriteScreenXY(Object.Frame,Object.Value1,Object.Value2)
			if Object.Frame>=23
				DrawSpriteScreenXY(Object.Value5,Object.Value6,Object.Value7)
			endif
			break
		case 5
		case 9
			Screen.XOffset+=2
			Object.Value7--
			Object.Value0++
			if Object.Value0==4
				Object.Value0=0
				Object.State++
			endif
			DrawSpriteScreenXY(Object.Frame,Object.Value1,Object.Value2)
			DrawSpriteScreenXY(Object.Value5,Object.Value6,Object.Value7)
			break
		case 6
		case 10
			Screen.XOffset+=2
			Object.Value0++
			if Object.Value0==4
				Object.Value0=0
				Object.Value5++
				if Object.Value5==29
					Object.Value5=24
					Object.State++
				endif
			endif
			DrawSpriteScreenXY(Object.Frame,Object.Value1,Object.Value2)
			DrawSpriteScreenXY(Object.Value5,Object.Value6,Object.Value7)
			break
		case 7
		case 11
			Screen.XOffset+=2
			Object.Value7++
			Object.Value0++
			if Object.Value0==4
				Object.Value0=0
				Object.State++
			endif
			DrawSpriteScreenXY(Object.Frame,Object.Value1,Object.Value2)
			DrawSpriteScreenXY(Object.Value5,Object.Value6,Object.Value7)
			break
		case 8
			Screen.XOffset+=2
			Object.YVelocity+=0x4000
			Object.Value9+=Object.YVelocity
			TempValue0=Object.Value9
			TempValue0>>=16
			Object.YPos+=TempValue0
			Object.Value2+=TempValue0
			Object.Value7+=TempValue0
			Object.Value9&=0xFFFF
			if Object.YVelocity>0
				if Object.YPos>=24
					Object.YVelocity>>=1
					TempValue0=Object.YVelocity
					TempValue0>>=1
					Object.YVelocity+=TempValue0
					Object.Value0++
					if Object.Value0!=3
						FlipSign(Object.YVelocity)
					else
						Object.Value0=0
						Object.YVelocity=0
						Object.State++
					endif
				endif
			endif
			DrawSpriteScreenXY(9,Screen.CenterX,Object.YPos)
			DrawSpriteScreenXY(Object.Frame,Object.Value1,Object.Value2)
			DrawSpriteScreenXY(Object.Value5,Object.Value6,Object.Value7)
			break
		case 12
			Screen.XOffset+=2
			Object.YVelocity+=0x4000
			Object.Value9+=Object.YVelocity
			TempValue0=Object.Value9
			TempValue0>>=16
			Object.Value8+=TempValue0
			Object.Value9&=0xFFFF
			if Object.YVelocity>0
				if Object.Value8>=89
					Object.YVelocity>>=2
					TempValue0=Object.YVelocity
					TempValue0>>=1
					Object.YVelocity+=TempValue0
					Object.Value0++
					if Object.Value0!=2
						FlipSign(Object.YVelocity)
					else
						Object.Value0=0
						Object.YVelocity=0
						Object.State++
					endif
				endif
			endif
			DrawSpriteScreenXY(Object.Frame,Object.Value1,Object.Value2)
			DrawSpriteScreenXY(Object.Value5,Object.Value6,Object.Value7)
			DrawSpriteScreenXY(30,Screen.CenterX,Object.Value8)
			break
		case 13
			Screen.XOffset+=2
			DrawSpriteScreenXY(Object.Frame,Object.Value1,Object.Value2)
			DrawSpriteScreenXY(Object.Value5,Object.Value6,Object.Value7)
			DrawSpriteScreenXY(30,Screen.CenterX,Object.Value8)
			break

		endswitch
		break

	endswitch
	DrawSpriteScreenXY(10,Screen.CenterX,Object.YPos)
	TempValue0=Screen.XSize
	TempValue0-=96
	DrawSpriteScreenXY(11,TempValue0,216)
endsub


sub ObjectStartup
	LoadSpriteSheet("Title/Title.gif")
	SetMusicTrack("Titlescreen.ogg",0,0)
	SpriteFrame(-33,-74,65,64,1,1)
	SpriteFrame(-33,-74,65,88,1,1)
	SpriteFrame(-34,-66,74,88,67,1)
	SpriteFrame(-34,-66,74,88,142,1)
	SpriteFrame(-32,-72,79,88,217,1)
	SpriteFrame(-24,-74,72,88,297,1)
	SpriteFrame(-36,-76,81,88,370,1)
	SpriteFrame(-36,-76,81,88,1,90)
	SpriteFrame(-36,-76,81,88,83,90)
	SpriteFrame(-128,42,256,74,255,90)
	SpriteFrame(-128,112,256,74,255,167)
	SpriteFrame(0,0,71,17,182,210)
	SpriteFrame(24,16,56,64,276,360)
	SpriteFrame(3,21,89,57,165,90)
	SpriteFrame(8,16,88,61,165,148)
	SpriteFrame(6,17,89,59,333,360)
	SpriteFrame(6,12,87,65,423,360)
	SpriteFrame(8,5,16,19,452,5)
	SpriteFrame(3,15,101,47,2,439)
	SpriteFrame(3,15,101,73,2,439)
	SpriteFrame(0,9,95,79,104,433)
	SpriteFrame(1,6,105,82,200,430)
	SpriteFrame(1,4,102,84,306,428)
	SpriteFrame(5,2,91,86,409,426)
	SpriteFrame(8,5,42,43,469,5)
	SpriteFrame(8,3,40,53,218,310)
	SpriteFrame(8,8,40,39,471,49)
	SpriteFrame(8,8,40,39,471,49)
	SpriteFrame(8,3,40,53,218,310)
	SpriteFrame(8,5,42,43,469,5)
	SpriteFrame(-124,-66,248,65,1,364)
	SpriteFrame(-77,-66,153,42,1,222)
	SpriteFrame(-77,-19,93,10,155,231)
	SpriteFrame(-77,-66,153,42,1,179)
	SpriteFrame(-77,-19,103,10,155,242)
	SpriteFrame(52,-19,24,18,165,411)
	SpriteFrame(-101,-66,28,42,189,321)
	TempValue0=208
	TempValue1=0
	while TempValue1<14
		GetArrayValue(TempValue2,TempValue1,Logo_array2)
		SetPaletteEntry(0,TempValue0,TempValue2)
		TempValue0++
		TempValue1++
	loop
endsub

sub RSDK
	LoadSpriteSheet("Global/Display.gif")
	SetEditorIcon(Icon0,SingleIcon,-16,-16,32,32,1,143)
endsub
